{"remainingRequest":"C:\\Users\\Султан\\.vscode\\vuejs-bitrix24-ver2.0\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Султан\\.vscode\\vuejs-bitrix24-ver2.0\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Султан\\.vscode\\vuejs-bitrix24-ver2.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Султан\\.vscode\\vuejs-bitrix24-ver2.0\\src\\pages\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Султан\\.vscode\\vuejs-bitrix24-ver2.0\\src\\pages\\Main.vue","mtime":1702029054000},{"path":"C:\\Users\\Султан\\.vscode\\vuejs-bitrix24-ver2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1705726085541},{"path":"C:\\Users\\Султан\\.vscode\\vuejs-bitrix24-ver2.0\\node_modules\\babel-loader\\lib\\index.js","mtime":1705726085379},{"path":"C:\\Users\\Султан\\.vscode\\vuejs-bitrix24-ver2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1705726085541},{"path":"C:\\Users\\Султан\\.vscode\\vuejs-bitrix24-ver2.0\\node_modules\\vue-loader\\lib\\index.js","mtime":1705726102679}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvXHUwNDIxXHUwNDQzXHUwNDNCXHUwNDQyXHUwNDMwXHUwNDNELy52c2NvZGUvdnVlanMtYml0cml4MjQtdmVyMi4wL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzL1x1MDQyMVx1MDQ0M1x1MDQzQlx1MDQ0Mlx1MDQzMFx1MDQzRC8udnNjb2RlL3Z1ZWpzLWJpdHJpeDI0LXZlcjIuMC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9cdTA0MjFcdTA0NDNcdTA0M0JcdTA0NDJcdTA0MzBcdTA0M0QvLnZzY29kZS92dWVqcy1iaXRyaXgyNC12ZXIyLjAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1vZGFsIGZyb20gIkAvY29tcG9uZW50cy9Nb2RhbCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWFpbiIsCiAgY29tcG9uZW50czogewogICAgTW9kYWw6IE1vZGFsCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWRkaXRpb25hbEZpbHRlck9wdGlvbnM6IFt7CiAgICAgICAgdGV4dDogItCS0YHQtSIsCiAgICAgICAgdmFsdWU6ICdhbGxPcGVuZWQnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAi0J7RgtC60YDRi9GC0LAg0LIg0L7RgtGH0LXRgtC90L7QvCDQv9C10YDQuNC+0LTQtSIsCiAgICAgICAgdmFsdWU6ICdpbkRpYXBhem9uT3BlbmVkJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogItCe0YLQutGA0YvRgtCwINC00L4g0L7RgtGH0LXRgtC90L7Qs9C+INC/0LXRgNC40L7QtNCwIiwKICAgICAgICB2YWx1ZTogJ2JlZm9yZU9wZW5lZCcKICAgICAgfV0sCiAgICAgIGFkZGl0aW9uYWxGaWx0ZXI6ICdpbkRpYXBhem9uT3BlbmVkJywKICAgICAgaXNPdmVyZHVlOiBmYWxzZSwKICAgICAgbW9kYWw6IGZhbHNlLAogICAgICBtb2RhbFN0YXRlOiB7CiAgICAgICAgc2hvdzogZmFsc2UKICAgICAgfSwKICAgICAgZGF0ZXM6IFtdLAogICAgICBoZWFkZXJzOiBbewogICAgICAgIHRleHQ6ICfQndCw0LjQvNC10L3QvtCy0LDQvdC40LUg0L/RgNC+0LXQutGC0LAnLAogICAgICAgIGFsaWduOiAnc3RhcnQnLAogICAgICAgIGRpdmlkZXI6IHRydWUsCiAgICAgICAgdmFsdWU6ICduYW1lJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ9CW0LTQtdGCINCy0YvQv9C+0LvQvdC10L3QuNGPJywKICAgICAgICB2YWx1ZTogJzInCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn0JLRi9C/0L7Qu9C90Y/QtdGC0YHRjycsCiAgICAgICAgdmFsdWU6ICczJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ9Ce0LbQuNC00LDQtdGCINC60L7QvdGC0YDQvtC70Y8nLAogICAgICAgIHZhbHVlOiAnNCcKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfQl9Cw0LLQtdGA0YjQtdC90LAnLAogICAgICAgIHZhbHVlOiAnNScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfQntGC0LvQvtC20LXQvdCwJywKICAgICAgICBkaXZpZGVyOiB0cnVlLAogICAgICAgIHZhbHVlOiAnNicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfQntCx0YnQuNC5INC40YLQvtCzJywKICAgICAgICBkaXZpZGVyOiB0cnVlLAogICAgICAgIHZhbHVlOiAnc3VtbWFyeScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfQlNC+0LvQsycsCiAgICAgICAgdmFsdWU6ICdkZWJ0JwogICAgICB9XSwKICAgICAgaXRlbXM6IFtdLAogICAgICBhbGxTdW1tYXJ5OiB7CiAgICAgICAgMjogW10sCiAgICAgICAgMzogW10sCiAgICAgICAgNDogW10sCiAgICAgICAgNTogW10sCiAgICAgICAgNjogW10sCiAgICAgICAgc3VtbWFyeTogW10sCiAgICAgICAgZGVidDogW10KICAgICAgfSwKICAgICAgdXNlcnM6IFtdLAogICAgICBkZXBhcnRtZW50czogW10sCiAgICAgIGN1cnJlbnRVc2VyczogdW5kZWZpbmVkLAogICAgICBjdXJyZW50RGVwYXJ0bWVudDogdW5kZWZpbmVkLAogICAgICBmaWx0ZXJVc2VyOiB1bmRlZmluZWQsCiAgICAgIHdpbmRvdzogdW5kZWZpbmVkCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRhdGVSYW5nZVRleHQ6IGZ1bmN0aW9uIGRhdGVSYW5nZVRleHQoKSB7CiAgICAgIGlmICh0aGlzLmRhdGVzLmxlbmd0aCA9PT0gMSkgewogICAgICAgIHJldHVybiAi0J7RgtGH0ZHRgiDQt9CwICIgKyB0aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlc1swXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuZGF0ZXNbMF0gPCB0aGlzLmRhdGVzWzFdKSByZXR1cm4gItCf0LXRgNC40L7QtCDRgSAiICsgdGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZXNbMF0pICsgIiDQv9C+ICIgKyB0aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlc1sxXSk7ZWxzZSByZXR1cm4gItCf0LXRgNC40L7QtCDRgSAiICsgdGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZXNbMV0pICsgIiDQv9C+ICIgKyB0aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlc1swXSk7CiAgICAgIH0KICAgIH0KICB9LAogIGZpbHRlcnM6IHsKICAgIHNlY29uZHNUb0hvdXJzQW5kTWludXRlczogZnVuY3Rpb24gc2Vjb25kc1RvSG91cnNBbmRNaW51dGVzKHNlY29uZHMpIHsKICAgICAgc2Vjb25kcyA9IE51bWJlcihzZWNvbmRzKTsKICAgICAgdmFyIGggPSBNYXRoLmZsb29yKHNlY29uZHMgLyAzNjAwKTsKICAgICAgdmFyIG0gPSBNYXRoLmZsb29yKHNlY29uZHMgJSAzNjAwIC8gNjApOwogICAgICB2YXIgaERpc3BsYXkgPSBoID4gMCA/IGggKyAn0YcuICcgOiAiIjsKICAgICAgdmFyIG1EaXNwbGF5ID0gbSA+IDAgPyBtICsgItC80LjQvS4gIiA6ICIiOwoKICAgICAgaWYgKCFoICYmICFtKSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KCiAgICAgIHJldHVybiBoRGlzcGxheSArIG1EaXNwbGF5OwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2hvd0RldGFpbHM6IGZ1bmN0aW9uIHNob3dEZXRhaWxzKGl0ZW1zKSB7CiAgICAgIHRoaXMubW9kYWxTdGF0ZS5pdGVtcyA9IGl0ZW1zOwogICAgICB0aGlzLm1vZGFsU3RhdGUuc2hvdyA9IHRydWU7CiAgICB9LAogICAgZmluZENoaWxkRGVwYXJ0bWVudHM6IGZ1bmN0aW9uIGZpbmRDaGlsZERlcGFydG1lbnRzKGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXMsIGlubmVyLCBfaXRlcmF0b3IsIF9zdGVwLCBrZXk7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChpZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgW10pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jYWxsTWV0aG9kKCdkZXBhcnRtZW50LmdldCcsIHsKICAgICAgICAgICAgICAgICAgIlBBUkVOVCI6IGlkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGlubmVyID0gW107CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyZXMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CgogICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnMoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGlmICgoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAga2V5ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IGlubmVyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmZpbmRDaGlsZERlcGFydG1lbnRzKGtleS5JRCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dC50MSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBpbm5lciA9IF9jb250ZXh0LnQwLmNvbmNhdC5jYWxsKF9jb250ZXh0LnQwLCBfY29udGV4dC50MSk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDIyOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDIgPSBfY29udGV4dFsiY2F0Y2giXSg5KTsKCiAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZShfY29udGV4dC50Mik7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjU7CgogICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDI1KTsKCiAgICAgICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlcy5jb25jYXQoaW5uZXIpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbOSwgMjIsIDI1LCAyOF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0VmFsaWRVc2VyczogZnVuY3Rpb24gc2V0VmFsaWRVc2VycygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgdXNlcnMsIGRlcGFydG1lbnRzLCBfaXRlcmF0b3IyLCBfc3RlcDIsIGRlcGFydG1lbnQ7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB1c2VycyA9IFtdOwogICAgICAgICAgICAgICAgZGVwYXJ0bWVudHMgPSBbXTsKCiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5pc1N1cGVyKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2FsbE1ldGhvZCgndXNlci5nZXQnLCB7CiAgICAgICAgICAgICAgICAgIEZJTFRFUjogewogICAgICAgICAgICAgICAgICAgIEFDVElWRTogdHJ1ZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgdXNlcnMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2FsbE1ldGhvZCgnZGVwYXJ0bWVudC5nZXQnLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGRlcGFydG1lbnRzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5jYWxsTWV0aG9kKCdkZXBhcnRtZW50LmdldCcsIHsKICAgICAgICAgICAgICAgICAgIlVGX0hFQUQiOiB3aW5kb3cuVVNFUi5JRAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBkZXBhcnRtZW50cyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGRlcGFydG1lbnRzKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTU7CgogICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5zKCk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBpZiAoKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRlcGFydG1lbnQgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBkZXBhcnRtZW50czsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmZpbmRDaGlsZERlcGFydG1lbnRzKGRlcGFydG1lbnQuSUQpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBkZXBhcnRtZW50cyA9IF9jb250ZXh0Mi50MC5jb25jYXQuY2FsbChfY29udGV4dDIudDAsIF9jb250ZXh0Mi50MSk7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDMxOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDI4OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQyID0gX2NvbnRleHQyWyJjYXRjaCJdKDE1KTsKCiAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLmUoX2NvbnRleHQyLnQyKTsKCiAgICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMzE7CgogICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5maW5pc2goMzEpOwoKICAgICAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2FsbE1ldGhvZCgndXNlci5nZXQnLCB7CiAgICAgICAgICAgICAgICAgIEZJTFRFUjogewogICAgICAgICAgICAgICAgICAgIEFDVElWRTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBVRl9ERVBBUlRNRU5UOiBkZXBhcnRtZW50cy5tYXAoZnVuY3Rpb24gKGRlcCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlcC5JRDsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzNjoKICAgICAgICAgICAgICAgIHVzZXJzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICB1c2Vycy5wdXNoKHdpbmRvdy5VU0VSKTsKCiAgICAgICAgICAgICAgY2FzZSAzODoKICAgICAgICAgICAgICAgIF90aGlzMi51c2VycyA9IHVzZXJzOwogICAgICAgICAgICAgICAgX3RoaXMyLmRlcGFydG1lbnRzID0gZGVwYXJ0bWVudHM7CgogICAgICAgICAgICAgIGNhc2UgNDA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMTUsIDI4LCAzMSwgMzRdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUoYXJnKSB7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoYXJnKTsKICAgICAgdmFyIGRkID0gZGF0ZS5nZXREYXRlKCk7CiAgICAgIGlmIChkZCA8IDEwKSBkZCA9ICcwJyArIGRkOwogICAgICB2YXIgbW0gPSBkYXRlLmdldE1vbnRoKCkgKyAxOwogICAgICBpZiAobW0gPCAxMCkgbW0gPSAnMCcgKyBtbTsKICAgICAgdmFyIHl5ID0gZGF0ZS5nZXRGdWxsWWVhcigpICUgMTAwOwogICAgICBpZiAoeXkgPCAxMCkgeXkgPSAnMCcgKyB5eTsKICAgICAgcmV0dXJuIGRkICsgJy4nICsgbW0gKyAnLicgKyB5eTsKICAgIH0sCiAgICBmZXRjaEdyb3VwczogZnVuY3Rpb24gZmV0Y2hHcm91cHMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGdyb3Vwcywgc3RhcnREYXRlLCBmaW5pc2hEYXRlLCBmaWx0ZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGdyb3VwcyA9IFtdOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczMuZGF0ZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKF90aGlzMy5kYXRlc1swXSk7CiAgICAgICAgICAgICAgICAgIGZpbmlzaERhdGUgPSBuZXcgRGF0ZShfdGhpczMuZGF0ZXNbMF0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKF90aGlzMy5kYXRlc1swXSkgPiBuZXcgRGF0ZShfdGhpczMuZGF0ZXNbMV0pKSB7CiAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlID0gbmV3IERhdGUoX3RoaXMzLmRhdGVzWzFdKTsKICAgICAgICAgICAgICAgICAgICBmaW5pc2hEYXRlID0gbmV3IERhdGUoX3RoaXMzLmRhdGVzWzBdKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzdGFydERhdGUgPSBuZXcgRGF0ZShfdGhpczMuZGF0ZXNbMF0pOwogICAgICAgICAgICAgICAgICAgIGZpbmlzaERhdGUgPSBuZXcgRGF0ZShfdGhpczMuZGF0ZXNbMV0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3RhcnREYXRlLnNldEhvdXJzKDAsIDAsIDApOwogICAgICAgICAgICAgICAgZmluaXNoRGF0ZS5zZXRIb3VycygyMywgNTksIDU5KTsKICAgICAgICAgICAgICAgIGZpbHRlciA9IHsKICAgICAgICAgICAgICAgICAgLy8gJz49REFURV9DUkVBVEUnOiBzdGFydERhdGUudG9JU09TdHJpbmcoKSwKICAgICAgICAgICAgICAgICAgLy8gJzw9REFURV9DUkVBVEUnOiBmaW5pc2hEYXRlLnRvSVNPU3RyaW5nKCksCiAgICAgICAgICAgICAgICAgICdDSEVDS19QRVJNSVNTSU9OUyc6ICdOJywKICAgICAgICAgICAgICAgICAgJ1BST0pFQ1QnOiAnWScKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmNhbGxNZXRob2QoJ3NvbmV0X2dyb3VwLmdldCcsIHsKICAgICAgICAgICAgICAgICAgRklMVEVSOiBmaWx0ZXIKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBncm91cHMgPSByZXM7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIGdyb3Vwcyk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZvcm1hdERhdGVGaWx0ZXI6IGZ1bmN0aW9uIGZvcm1hdERhdGVGaWx0ZXIoZGF0ZXMpIHsKICAgICAgdmFyIHN0YXJ0RGF0ZTsKICAgICAgdmFyIGZpbmlzaERhdGU7CgogICAgICBpZiAoZGF0ZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgc3RhcnREYXRlID0gbmV3IERhdGUoZGF0ZXNbMF0pOwogICAgICAgIGZpbmlzaERhdGUgPSBuZXcgRGF0ZShkYXRlc1swXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKG5ldyBEYXRlKGRhdGVzWzBdKSA+IG5ldyBEYXRlKGRhdGVzWzFdKSkgewogICAgICAgICAgc3RhcnREYXRlID0gbmV3IERhdGUoZGF0ZXNbMV0pOwogICAgICAgICAgZmluaXNoRGF0ZSA9IG5ldyBEYXRlKGRhdGVzWzBdKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3RhcnREYXRlID0gbmV3IERhdGUoZGF0ZXNbMF0pOwogICAgICAgICAgZmluaXNoRGF0ZSA9IG5ldyBEYXRlKGRhdGVzWzFdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHN0YXJ0RGF0ZS5zZXRIb3VycygwLCAwLCAwKTsKICAgICAgZmluaXNoRGF0ZS5zZXRIb3VycygyMywgNTksIDU5KTsKICAgICAgcmV0dXJuIFtzdGFydERhdGUsIGZpbmlzaERhdGVdOwogICAgfSwKICAgIGZldGNoVGFza3M6IGZ1bmN0aW9uIGZldGNoVGFza3MoZmlsdGVyKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHRhc2tzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0YXNrcyA9IFtdOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5jYWxsTWV0aG9kKCd0YXNrcy50YXNrLmxpc3QnLCB7CiAgICAgICAgICAgICAgICAgIGZpbHRlcjogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBmaWx0ZXIpLCB7fSwgewogICAgICAgICAgICAgICAgICAgIFJFU1BPTlNJQkxFX0lEOiBfdGhpczQuZmlsdGVyVXNlciA/IF90aGlzNC5maWx0ZXJVc2VyLklEIDogX3RoaXM0LmN1cnJlbnRVc2Vycy5tYXAoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwuSUQ7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgIHNlbGVjdDogWydJRCcsICdUSVRMRScsICdTVEFUVVMnLCAnR1JPVVBfSUQnLCAnQ1JFQVRFRF9CWScsICdDUkVBVEVEX0RBVEUnLCAnUkVTUE9OU0lCTEVfSUQnLCAnQUNDT01QTElDRVMnLCAnQVVESVRPUlMnLCAnQ0hBTkdFRF9CWScsICdDSEFOR0VEX0RBVEUnLCAnQ0xPU0VEX0RBVEUnLCAnQUNUSVZJVFlfREFURScsICdEQVRFX1NUQVJUJywgJ0RFQURMSU5FJyAvLyAnKicsCiAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICByZXMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICAgICAgICB0YXNrcyA9IGVsWyd0YXNrcyddID8gdGFza3MuY29uY2F0KGVsWyd0YXNrcyddKSA6IHRhc2tzLmNvbmNhdChlbCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuY2FsbE1ldGhvZCgndGFza3MudGFzay5saXN0JywgewogICAgICAgICAgICAgICAgICBmaWx0ZXI6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZmlsdGVyKSwge30sIHsKICAgICAgICAgICAgICAgICAgICBBQ0NPTVBMSUNFOiBfdGhpczQuZmlsdGVyVXNlciA/IF90aGlzNC5maWx0ZXJVc2VyLklEIDogX3RoaXM0LmN1cnJlbnRVc2Vycy5tYXAoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwuSUQ7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgIHNlbGVjdDogWydJRCcsICdUSVRMRScsICdTVEFUVVMnLCAnR1JPVVBfSUQnLCAnQ1JFQVRFRF9CWScsICdDUkVBVEVEX0RBVEUnLCAnUkVTUE9OU0lCTEVfSUQnLCAnQUNDT01QTElDRVMnLCAnQVVESVRPUlMnLCAnQ0hBTkdFRF9CWScsICdDSEFOR0VEX0RBVEUnLCAnQ0xPU0VEX0RBVEUnLCAnQUNUSVZJVFlfREFURScsICdEQVRFX1NUQVJUJywgJ0RFQURMSU5FJyAvLyAnKicsCiAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICByZXMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICAgICAgICB0YXNrcyA9IGVsWyd0YXNrcyddID8gdGFza3MuY29uY2F0KGVsWyd0YXNrcyddKSA6IHRhc2tzLmNvbmNhdChlbCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCB0YXNrcyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoYW5nZURlcGFydG1lbnQ6IGZ1bmN0aW9uIGNoYW5nZURlcGFydG1lbnQoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuY3VycmVudERlcGFydG1lbnQpIHsKICAgICAgICB0aGlzLmN1cnJlbnRVc2VycyA9IHRoaXMudXNlcnMuZmlsdGVyKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgcmV0dXJuIGVsLlVGX0RFUEFSVE1FTlQuZmluZChmdW5jdGlvbiAoZHApIHsKICAgICAgICAgICAgcmV0dXJuIGRwID09IF90aGlzNS5jdXJyZW50RGVwYXJ0bWVudC5JRDsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY3VycmVudFVzZXJzID0gdGhpcy51c2VyczsKICAgICAgfQoKICAgICAgdGhpcy5jcmVhdGVSZXBvcnQoKTsKICAgIH0sCiAgICBjcmVhdGVSZXBvcnQ6IGZ1bmN0aW9uIGNyZWF0ZVJlcG9ydCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgX3RoaXM2JCRyZWZzLCBfdGhpczYkJHJlZnMkZGlhbG9nOwoKICAgICAgICB2YXIgZm9ybWF0RGF0ZUZpbHRlciwgdGFza3MsIGZpbHRlckNyZWF0ZWRUYXNrcywgX2ZpbHRlckNyZWF0ZWRUYXNrcywgX2ZpbHRlckNyZWF0ZWRUYXNrczIsIGN1cnJEYXRlLCBkYXRhLCBhbHJlYWR5SXRlcmF0ZWQ7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczYuaXRlbXMgPSBbXTsKICAgICAgICAgICAgICAgIF90aGlzNi5hbGxTdW1tYXJ5ID0gewogICAgICAgICAgICAgICAgICAyOiBbXSwKICAgICAgICAgICAgICAgICAgMzogW10sCiAgICAgICAgICAgICAgICAgIDQ6IFtdLAogICAgICAgICAgICAgICAgICA1OiBbXSwKICAgICAgICAgICAgICAgICAgNjogW10sCiAgICAgICAgICAgICAgICAgIHN1bW1hcnk6IFtdLAogICAgICAgICAgICAgICAgICBkZWJ0OiBbXQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIChfdGhpczYkJHJlZnMgPSBfdGhpczYuJHJlZnMpID09PSBudWxsIHx8IF90aGlzNiQkcmVmcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzNiQkcmVmcyRkaWFsb2cgPSBfdGhpczYkJHJlZnMuZGlhbG9nKSA9PT0gbnVsbCB8fCBfdGhpczYkJHJlZnMkZGlhbG9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczYkJHJlZnMkZGlhbG9nLnNhdmUoX3RoaXM2LmRhdGVzKTsKICAgICAgICAgICAgICAgIGZvcm1hdERhdGVGaWx0ZXIgPSBfdGhpczYuZm9ybWF0RGF0ZUZpbHRlcihfdGhpczYuZGF0ZXMpOwogICAgICAgICAgICAgICAgdGFza3MgPSBbXTsKCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczYuYWRkaXRpb25hbEZpbHRlciA9PT0gJ2JlZm9yZU9wZW5lZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZpbHRlckNyZWF0ZWRUYXNrcyA9IHsKICAgICAgICAgICAgICAgICAgJzxDUkVBVEVEX0RBVEUnOiBmb3JtYXREYXRlRmlsdGVyWzBdLAogICAgICAgICAgICAgICAgICAiIVJFQUxfU1RBVFVTIjogNQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9IHRhc2tzOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuZmV0Y2hUYXNrcyhmaWx0ZXJDcmVhdGVkVGFza3MpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQxID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICB0YXNrcyA9IF9jb250ZXh0NS50MC5jb25jYXQuY2FsbChfY29udGV4dDUudDAsIF9jb250ZXh0NS50MSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczYuYWRkaXRpb25hbEZpbHRlciA9PT0gJ2luRGlhcGF6b25PcGVuZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfZmlsdGVyQ3JlYXRlZFRhc2tzID0gewogICAgICAgICAgICAgICAgICAnPkNSRUFURURfREFURSc6IGZvcm1hdERhdGVGaWx0ZXJbMF0sCiAgICAgICAgICAgICAgICAgICc8Q1JFQVRFRF9EQVRFJzogZm9ybWF0RGF0ZUZpbHRlclsxXQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MiA9IHRhc2tzOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuZmV0Y2hUYXNrcyhfZmlsdGVyQ3JlYXRlZFRhc2tzKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MyA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgdGFza3MgPSBfY29udGV4dDUudDIuY29uY2F0LmNhbGwoX2NvbnRleHQ1LnQyLCBfY29udGV4dDUudDMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgX2ZpbHRlckNyZWF0ZWRUYXNrczIgPSB7CiAgICAgICAgICAgICAgICAgICIhUkVBTF9TVEFUVVMiOiA1LAogICAgICAgICAgICAgICAgICAnPENSRUFURURfREFURSc6IGZvcm1hdERhdGVGaWx0ZXJbMF0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDQgPSB0YXNrczsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmZldGNoVGFza3MoX2ZpbHRlckNyZWF0ZWRUYXNrczIpOwoKICAgICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQ1ID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICB0YXNrcyA9IF9jb250ZXh0NS50NC5jb25jYXQuY2FsbChfY29udGV4dDUudDQsIF9jb250ZXh0NS50NSk7CiAgICAgICAgICAgICAgICBfZmlsdGVyQ3JlYXRlZFRhc2tzMiA9IHsKICAgICAgICAgICAgICAgICAgJz5DUkVBVEVEX0RBVEUnOiBmb3JtYXREYXRlRmlsdGVyWzBdLAogICAgICAgICAgICAgICAgICAnPENSRUFURURfREFURSc6IGZvcm1hdERhdGVGaWx0ZXJbMV0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDYgPSB0YXNrczsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmZldGNoVGFza3MoX2ZpbHRlckNyZWF0ZWRUYXNrczIpOwoKICAgICAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQ3ID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICB0YXNrcyA9IF9jb250ZXh0NS50Ni5jb25jYXQuY2FsbChfY29udGV4dDUudDYsIF9jb250ZXh0NS50Nyk7CgogICAgICAgICAgICAgIGNhc2UgMzU6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LmlzT3ZlcmR1ZSkgewogICAgICAgICAgICAgICAgICBjdXJyRGF0ZSA9IF90aGlzNi5tb21lbnQoKTsKICAgICAgICAgICAgICAgICAgdGFza3MgPSB0YXNrcy5maWx0ZXIoZnVuY3Rpb24gKHRhc2spIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXRhc2suZGVhZGxpbmUpIHJldHVybiBmYWxzZTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIGRlYWRsaW5lID0gX3RoaXM2Lm1vbWVudCh0YXNrLmRlYWRsaW5lKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2suc3RhdHVzID09ICc1JykgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGNsb3NlZERhdGUgPSBfdGhpczYubW9tZW50KHRhc2suY2xvc2VkRGF0ZSk7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlZERhdGUuaXNBZnRlcihkZWFkbGluZSkpIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyckRhdGUuaXNBZnRlcihkZWFkbGluZSkpIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGF0YSA9IHt9OwogICAgICAgICAgICAgICAgYWxyZWFkeUl0ZXJhdGVkID0gW107CiAgICAgICAgICAgICAgICB0YXNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0YXNrKSB7CiAgICAgICAgICAgICAgICAgIGlmICghYWxyZWFkeUl0ZXJhdGVkLmZpbmQoZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbSA9PT0gdGFzay5pZDsKICAgICAgICAgICAgICAgICAgfSkpIHsKICAgICAgICAgICAgICAgICAgICBhbHJlYWR5SXRlcmF0ZWQucHVzaCh0YXNrLmlkKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhW3Rhc2suZ3JvdXBJZF0pIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBfdGFzayRncm91cDsKCiAgICAgICAgICAgICAgICAgICAgICBkYXRhW3Rhc2suZ3JvdXBJZF0gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRhc2suZ3JvdXBJZCAhPT0gJzAnID8gKF90YXNrJGdyb3VwID0gdGFzay5ncm91cCkgPT09IG51bGwgfHwgX3Rhc2skZ3JvdXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90YXNrJGdyb3VwLm5hbWUgOiAn0JHQtdC3INCz0YDRg9C/0L/RiycKICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICBkYXRhW3Rhc2suZ3JvdXBJZF1bJzInXSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgZGF0YVt0YXNrLmdyb3VwSWRdWyczJ10gPSBbXTsKICAgICAgICAgICAgICAgICAgICAgIGRhdGFbdGFzay5ncm91cElkXVsnNCddID0gW107CiAgICAgICAgICAgICAgICAgICAgICBkYXRhW3Rhc2suZ3JvdXBJZF1bJzUnXSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgZGF0YVt0YXNrLmdyb3VwSWRdWyc2J10gPSBbXTsKICAgICAgICAgICAgICAgICAgICAgIGRhdGFbdGFzay5ncm91cElkXVsnc3VtbWFyeSddID0gW107CiAgICAgICAgICAgICAgICAgICAgICBkYXRhW3Rhc2suZ3JvdXBJZF1bJ2RlYnQnXSA9IFtdOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmFsbFN1bW1hcnlbdGFzay5zdGF0dXNdLnB1c2godGFzayk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzNi5hbGxTdW1tYXJ5WydzdW1tYXJ5J10ucHVzaCh0YXNrKTsKCiAgICAgICAgICAgICAgICAgICAgZGF0YVt0YXNrLmdyb3VwSWRdW3Rhc2suc3RhdHVzXS5wdXNoKHRhc2spOwogICAgICAgICAgICAgICAgICAgIGRhdGFbdGFzay5ncm91cElkXVsnc3VtbWFyeSddLnB1c2godGFzayk7CgogICAgICAgICAgICAgICAgICAgIGlmICh0YXNrLnN0YXR1cyAhPSAnNScpIHsKICAgICAgICAgICAgICAgICAgICAgIGRhdGFbdGFzay5ncm91cElkXVsnZGVidCddLnB1c2godGFzayk7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmFsbFN1bW1hcnlbJ2RlYnQnXS5wdXNoKHRhc2spOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpczYuaXRlbXMgPSBPYmplY3QudmFsdWVzKGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZXhwb3J0VG9GaWxlOiBmdW5jdGlvbiBleHBvcnRUb0ZpbGUoKSB7CiAgICAgIHZhciBleHBvcnREYXRhID0gW1si0J/RgNC+0LXQutGCIiwgItCW0LTQtdGCINCy0YvQv9C+0LvQvdC10L3QuNGPIiwgItCS0YvQv9C+0LvQvdGP0LXRgtGB0Y8iLCAi0J7QttC40LTQsNC10YIg0LrQvtC90YLRgNC+0LvRjyIsICLQl9Cw0LLQtdGA0YjQtdC90LAiLCAi0J7RgtC70L7QttC10L3QsCIsICLQntCx0YnQuNC5INC40YLQvtCzIiwgItCU0L7Qu9CzIl1dOwogICAgICB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKHByb2plY3QpIHsKICAgICAgICB2YXIgX3Byb2plY3QkLCBfcHJvamVjdCQyLCBfcHJvamVjdCQzLCBfcHJvamVjdCQ0LCBfcHJvamVjdCQ1LCBfcHJvamVjdCRzdW1tYXJ5LCBfcHJvamVjdCRkZWJ0OwoKICAgICAgICBleHBvcnREYXRhLnB1c2goW3Byb2plY3QubmFtZSwgKF9wcm9qZWN0JCA9IHByb2plY3RbJzInXSkgPT09IG51bGwgfHwgX3Byb2plY3QkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcHJvamVjdCQubGVuZ3RoLCAoX3Byb2plY3QkMiA9IHByb2plY3RbJzMnXSkgPT09IG51bGwgfHwgX3Byb2plY3QkMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Byb2plY3QkMi5sZW5ndGgsIChfcHJvamVjdCQzID0gcHJvamVjdFsnNCddKSA9PT0gbnVsbCB8fCBfcHJvamVjdCQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcHJvamVjdCQzLmxlbmd0aCwgKF9wcm9qZWN0JDQgPSBwcm9qZWN0Wyc1J10pID09PSBudWxsIHx8IF9wcm9qZWN0JDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wcm9qZWN0JDQubGVuZ3RoLCAoX3Byb2plY3QkNSA9IHByb2plY3RbJzYnXSkgPT09IG51bGwgfHwgX3Byb2plY3QkNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Byb2plY3QkNS5sZW5ndGgsIChfcHJvamVjdCRzdW1tYXJ5ID0gcHJvamVjdC5zdW1tYXJ5KSA9PT0gbnVsbCB8fCBfcHJvamVjdCRzdW1tYXJ5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcHJvamVjdCRzdW1tYXJ5Lmxlbmd0aCwgKF9wcm9qZWN0JGRlYnQgPSBwcm9qZWN0LmRlYnQpID09PSBudWxsIHx8IF9wcm9qZWN0JGRlYnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wcm9qZWN0JGRlYnQubGVuZ3RoXSk7CiAgICAgIH0pOyAvLwoKICAgICAgdmFyIHRibCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7CiAgICAgIHRibC5zdHlsZS5ib3JkZXJTcGFjaW5nID0gJzAnOwogICAgICB0Ymwuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cG9ydERhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgdHIgPSB0YmwuaW5zZXJ0Um93KCk7CgogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZXhwb3J0RGF0YVtpXS5sZW5ndGg7IGorKykgewogICAgICAgICAgdmFyIHRleHQgPSAnJzsKICAgICAgICAgIHRleHQgPSBleHBvcnREYXRhW2ldW2pdOwogICAgICAgICAgdmFyIHRkID0gdHIuaW5zZXJ0Q2VsbCgpOwogICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpOwogICAgICAgICAgdGQuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCBibGFjayc7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLnRhYmxlVG9FeGNlbCgpKHRibCwgJ3Rlc3QnLCAiZmlsZSIpOwogICAgfSwKICAgIHRhYmxlVG9FeGNlbDogZnVuY3Rpb24gdGFibGVUb0V4Y2VsKCkgewogICAgICB2YXIgdXJpID0gJ2RhdGE6YXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsO2Jhc2U2NCwnLAogICAgICAgICAgdGVtcGxhdGUgPSAnPGh0bWwgeG1sbnM6bz0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6b2ZmaWNlIiB4bWxuczp4PSJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOm9mZmljZTpleGNlbCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAiPjxoZWFkPjwhLS1baWYgZ3RlIG1zbyA5XT48eG1sPjx4OkV4Y2VsV29ya2Jvb2s+PHg6RXhjZWxXb3Jrc2hlZXRzPjx4OkV4Y2VsV29ya3NoZWV0Pjx4Ok5hbWU+e3dvcmtzaGVldH08L3g6TmFtZT48eDpXb3Jrc2hlZXRPcHRpb25zPjx4OkRpc3BsYXlHcmlkbGluZXMvPjwveDpXb3Jrc2hlZXRPcHRpb25zPjwveDpFeGNlbFdvcmtzaGVldD48L3g6RXhjZWxXb3Jrc2hlZXRzPjwveDpFeGNlbFdvcmtib29rPjwveG1sPjwhW2VuZGlmXS0tPjxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOCIvPjwvaGVhZD48Ym9keT48dGFibGU+e3RhYmxlfTwvdGFibGU+PC9ib2R5PjwvaHRtbD4nLAogICAgICAgICAgYmFzZTY0ID0gZnVuY3Rpb24gYmFzZTY0KHMpIHsKICAgICAgICByZXR1cm4gd2luZG93LmJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSk7CiAgICAgIH0sCiAgICAgICAgICBmb3JtYXQgPSBmdW5jdGlvbiBmb3JtYXQocywgYykgewogICAgICAgIHJldHVybiBzLnJlcGxhY2UoL3soXHcrKX0vZywgZnVuY3Rpb24gKG0sIHApIHsKICAgICAgICAgIHJldHVybiBjW3BdOwogICAgICAgIH0pOwogICAgICB9LAogICAgICAgICAgZG93bmxvYWRVUkkgPSBmdW5jdGlvbiBkb3dubG9hZFVSSSh1cmksIG5hbWUpIHsKICAgICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICBsaW5rLmRvd25sb2FkID0gbmFtZTsKICAgICAgICBsaW5rLmhyZWYgPSB1cmk7CiAgICAgICAgbGluay5jbGljaygpOwogICAgICB9OwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YWJsZSwgbmFtZSwgZmlsZU5hbWUpIHsKICAgICAgICBpZiAoIXRhYmxlLm5vZGVUeXBlKSB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYmxlKTsKICAgICAgICB2YXIgY3R4ID0gewogICAgICAgICAgd29ya3NoZWV0OiBuYW1lIHx8ICdXb3Jrc2hlZXQnLAogICAgICAgICAgdGFibGU6IHRhYmxlLmlubmVySFRNTAogICAgICAgIH07CiAgICAgICAgdmFyIHJlc3VyaSA9IHVyaSArIGJhc2U2NChmb3JtYXQodGVtcGxhdGUsIGN0eCkpOwogICAgICAgIGRvd25sb2FkVVJJKHJlc3VyaSwgZmlsZU5hbWUpOwogICAgICB9OwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzNy5kYXRlcyA9IFtfdGhpczcubW9tZW50KCkuc3RhcnRPZignbW9udGgnKS5mb3JtYXQoJ1lZWVktTU0tREQnKSwgX3RoaXM3Lm1vbWVudCgpLmVuZE9mKCdtb250aCcpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXTsKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy5zZXRWYWxpZFVzZXJzKCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX3RoaXM3LmN1cnJlbnRVc2VycyA9IF90aGlzNy51c2VyczsKICAgICAgICAgICAgICBfdGhpczcud2luZG93ID0gd2luZG93OwogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LmNyZWF0ZVJlcG9ydCgpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTYpOwogICAgfSkpKCk7CiAgfQp9Ow=="},null]}